<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>X 수동 참여 보드 (No API)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/xbot-manual.css" />
  </head>
  <body>
    <div class="noise" aria-hidden="true"></div>
    <main class="wrap">
      <header class="hero card">
        <div>
          <p class="eyebrow">NO DEVELOPER KEY MODE</p>
          <h1>X 수동 참여 보드</h1>
          <p class="sub">
            API 없이 동작합니다. 글/이미지 메모를 넣으면 공감 댓글 초안을 만들고,
            좋아요/댓글은 브라우저에서 직접 실행합니다.
          </p>
        </div>
        <div class="hero-meta">
          <a class="link-chip" href="/xbot-api">기존 API 대시보드</a>
          <span id="cooldownStatus" class="chip">쿨다운 확인 중...</span>
        </div>
      </header>

      <section class="card form-card">
        <div class="install-box">
          <p class="install-title">X 페이지 자동 보조 설치</p>
          <p class="install-text">
            Tampermonkey(크롬/사파리 확장)를 설치한 뒤 아래 스크립트를 추가하면,
            X에서 <strong>다음 글 열기 → 분석 → 댓글창 자동 입력</strong>까지 도와줍니다.
            전송은 직접 눌러야 합니다.
          </p>
          <a class="link-chip" href="/x-human-assist.user.js" target="_blank" rel="noopener noreferrer">
            스크립트 열기 (/x-human-assist.user.js)
          </a>
        </div>

        <div class="form-grid">
          <label>
            글 링크 (선택)
            <input id="postUrlInput" type="url" placeholder="https://x.com/username/status/123..." />
          </label>

          <label>
            톤
            <select id="toneSelect">
              <option value="warm" selected>따뜻한 공감</option>
              <option value="cheer">축하/응원</option>
              <option value="calm">차분한 반응</option>
            </select>
          </label>

          <label>
            승인 쿨다운(초)
            <input id="cooldownInput" type="number" min="0" step="1" value="60" />
          </label>
        </div>

        <label>
          글 내용
          <textarea id="postTextInput" rows="4" placeholder="X 글 본문을 붙여넣어 주세요"></textarea>
        </label>

        <label>
          이미지 메모 (선택)
          <textarea id="imageNotesInput" rows="2" placeholder="사진 분위기/주제/alt 요약"></textarea>
        </label>

        <div class="actions">
          <button id="generateButton" class="btn" type="button">댓글 초안 생성</button>
          <button id="addButton" class="btn btn-primary" type="button">후보에 추가</button>
          <button id="clearButton" class="btn" type="button">입력 비우기</button>
        </div>

        <label>
          생성된 댓글 초안
          <textarea id="draftReplyInput" rows="3" placeholder="여기에 생성/수정"></textarea>
        </label>
      </section>

      <section class="card list-card">
        <div class="list-head">
          <h2>참여 후보</h2>
          <div class="head-actions">
            <span id="itemCount" class="chip">0개</span>
            <button id="clearDoneButton" class="btn btn-small" type="button">완료만 삭제</button>
          </div>
        </div>
        <div id="itemList" class="items"></div>
      </section>
    </main>

    <template id="itemTemplate">
      <article class="item">
        <div class="item-head">
          <div>
            <h3 class="item-id"></h3>
            <p class="item-meta"></p>
          </div>
          <span class="state-pill"></span>
        </div>

        <a class="item-link" target="_blank" rel="noopener noreferrer">원문 열기</a>
        <p class="item-text"></p>
        <p class="item-image"></p>

        <label>
          댓글
          <textarea class="item-reply" rows="3"></textarea>
        </label>

        <div class="item-actions">
          <button class="btn btn-small btn-like" type="button">좋아요 페이지</button>
          <button class="btn btn-small btn-primary btn-reply" type="button">댓글 작성 페이지</button>
          <button class="btn btn-small btn-done" type="button">완료</button>
          <button class="btn btn-small btn-danger btn-delete" type="button">삭제</button>
        </div>
      </article>
    </template>

    <script type="module" src="/xbot-manual.js"></script>
  </body>
</html>
